(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bcfa065"],{"176b":function(e,t,n){},"3b84":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAZCAYAAADaILXQAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArlJREFUeNqllt1LU3EYx49Nj5EmLdfWZtHM2XHM7eyssjIhh60ta8WMdmEhgrdR3nTRVQODqFisS/sDgiIoiYgwyKAiki6ySE2DmmZMZ9uqIfTCr+/vdAZy9lt78eJzsbfP8+x5nj3PuFAoxKl5bnKVAx2wPTVJXSNGZ/eDjY6u24ZmYchgr2V9hgVLLIBLYOLVZomMmZ3kDRgzS2QUj/H8C3AWbCpYrmR7AsxObZNIrL2DpIJBkurpIQmfj3xtaSGLdjv5bHWQiQYnDfIS7CtUfhr8/NK+n/wYGCDf+/tJwu2WhSw+CiINEAPu/8rxBh9ILnT6SToSIUm/n8RzSBkBpoGFKccLevAoKraQdDhMEh5PXulyphvlABHAs+Q069+p3l6SDASKElPizXYqXwImlvzilEUk3/r6ihZneFsvN7ibJb8XFXeShNdbslwpzVWWfGhmeytZFMWS5fSbw3OFKf8klC7OJ78fFRwrkmcmhiUfeG9ZWeZ0PcATZMk9r7dIJYsX/o1iItcomsBItMmxkpIMgspcP/8ASNMsihHPYok9M7nm7hrsDo7jKoAGrGItrmvF1J7uHoh/XdcJ5yBsAg2gDqwDPChbLjeCUfo1C5FPYu3e1NseGjT8EYh8wAs6wG5QD1arD4UVzM/kqf8HJIDLNCny1Sch8avoBHvB+qw1ibMWRIA/MVuOOiPwY6MzfrxKf4YhphwEO0BN9g7muPI7hubw+FZnlngeARF86bzWfJkhPQwOgF1gg9xchlzjqlxrxiEenlI1mAYc1Ak3VEJaBg9oAxZQTR3MAy13Gc04VVO3Z9gojmcaTO/mLb1tpFZTcQyvH1Ia6AYuZUqqlHEsy3n9lwXgL2jr254Ypbl3yBgNHDdq+KPKRLSCRqCVp0LJNO9fC3X9qQANJsqIWZV6rlFnyeIvmIDJtcarlTEAAAAASUVORK5CYII="},9406:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Admin")},o=[],r=n("2f62"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-editor-container"},[n("el-row",[n("el-input",{staticStyle:{"margin-bottom":"5px"},attrs:{placeholder:"请输入路段名称",maxlength:"60","show-word-limit":""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("div",{ref:"mapContainer",attrs:{id:"boxMap"}})],1)},i=[],s=n("3b84"),c=n.n(s),p=n("313e"),f=(n("a00a"),{name:"DashboardAdmin",data:function(){return{loading:!0,isShow:!0,name:"",topData:{LastLoginDate:"",LoginCount:0,ItemCount:0,ItemCapacity:0},ElectricityType:{},pointArr:[],Distribute:[]}},mounted:function(){this.newmethod()},methods:{newmethod:function(){var e,t=document.getElementById("boxMap"),n=p["init"](t),a=[{name:"1-1",value:148},{name:"1-2",value:152},{name:"1-3",value:153},{name:"1-4",value:154},{name:"1-5",value:154}],o={"1-1":[114.3181,35.5761],"1-2":[114.6281,35.0561],"1-3":[114.5981,34.3161],"1-4":[114.3181,33.9761],"1-5":[113.3891,33.5281]},r=[[1143181,355761],[1146281,350561],[1145981,343161],[1143181,339761],[1133891,335281]],l=[],i=[].concat.apply([],r.map((function(e,t){for(var n=[],a=0;a<e.length;a+=2){var o=[e[a],e[a+1]];a>0&&(o=[l[0]+o[0],l[1]+o[1]]),o=[o[0]/1e4,o[1]/1e4],0===t&&(l=o),n.push(l,o),l=o}return{coords:n}}))),s=[{name:"gr",color:"#00E400"},{name:"yel",color:"#FFFF00"},{name:"or",color:"#FF7E00"},{name:"red",color:"#FF0000"},{name:"pu",color:"#99004C"},{name:"hh",color:"#7E0023"},{name:"mo",color:"#5CC0D4"}],c=function(e){for(var t=[],n=0;n<e.length;n++){var a=o[e[n].name];a&&t.push({name:e[n].name,value:a.concat(e[n].value),note:"4535"})}return t};e={title:{text:"线路地图",subtext:"",sublink:"",left:"center"},tooltip:{trigger:"item"},bmap:{center:[113.624129,34.160339],zoom:8,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"land",elementType:"all",stylers:{color:"#f3f3f3"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"all",stylers:{color:"#fdfdfd"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#fefefe"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#fefefe"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"local",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"all",stylers:{color:"#fefefe"}},{featureType:"building",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"label",elementType:"labels.text.fill",stylers:{color:"#999999"}}]}},series:[{name:"路段信息",type:"effectScatter",coordinateSystem:"bmap",data:c(a),symbolSize:function(e){return e[2]/10},encode:{value:2},showEffectOn:"render",rippleEffect:{brushType:"stroke"},label:{formatter:"{b}",position:"right",show:!0},itemStyle:{shadowBlur:10,shadowColor:"#333"},emphasis:{scale:!0},zlevel:1,tooltip:{alwaysShowContent:!0,enterable:!0,backgroundColor:"rgba(255,255,255,0.0)",position:function(e,t,n,a,o){var r=0,l=0,i=e[0],s=e[1],c=o.contentSize[0],p=o.contentSize[1];return r=c>i?5:i-c,l=p>s?5:s-p,[r,l]},formatter:function(e){console.log(2212121);var t=a.filter((function(t,n){if(t.PsAlias===e.name)return self.currentIndex=n,!0}))[0];if(console.log(999888,t),void 0!=t){self.$parent.setQualityData&&self.$parent.setQualityData(t.Qualitys,t.PsAlias);var n="";n="0"==t.IsOnline?"mapbox-re":"mapbox-bl";var o="";switch(!0){case"0"==t.IsOnline:o=s.filter((function(e){return"red"===e.name}))[0].color;break;default:o=s.filter((function(e){return"gr"===e.name}))[0].color;break}var r='<div class="mapbox-pop '+n+'" onclick="window.location.href=\'./PointMonitor/SingleEnterpriseMonitor?PSCode='+t.PSCode+'\'"><h6 style="color:'+o+';"> '+(t.PsAlias.length>10?t.PsAlias.substring(0,10)+"...":t.PsAlias)+'</h6><div class="gis-data"><p>关注程度：'+t.AttentionDegreeName+"</p><p>点位数："+t.PointCount+"</p><br /><p>监测设备："+(t.EquipmentCount||0)+"</p><p>是否在线："+("1"==t.IsOnline?"是":"否")+'</p></div><div class="gis-data" style="border-bottom: 0; padding-top:0;"><p>更新时间：'+(t.ProductionDateStr||"")+"</p></div></div >";return r}return""}}},{type:"lines",coordinateSystem:"bmap",data:i,polyline:!0,lineStyle:{color:"orange",opacity:.6,width:2}}]},e&&n.setOption(e)},buildMap:function(){var e=this,t=new BMap.Map("boxMap",{enableMapClick:!1}),n=new BMap.Point(113.62,34.16);t.centerAndZoom(n,8),t.setMapStyleV2({styleId:"2f2b43bc6e19a4555653ecafdcbd9f25"});var a=new window.BMapLib.DistanceTool(t);t.enableScrollWheelZoom(!0);var o=new BMap.ScaleControl;t.addControl(o),window.map=t,window.myDis=a;var r=[new BMap.Point(114.318,35.576),new BMap.Point(114.628,35.056),new BMap.Point(114.058,34.476),new BMap.Point(114.598,34.316),new BMap.Point(114.318,33.976),new BMap.Point(113.389,33.528)];this.draw();var l={width:200,height:80,title:""};setTimeout((function(){e.isShow=!1}),300);for(var i=new BMap.Icon(c.a,new BMap.Size(15,15)),s=0;s<r.length;s++){var p=new BMap.Marker(r[s],{icon:i});t.addOverlay(p),this.addClickHandler(p,l)}t.addEventListener("click",(function(e){console.log(e.point)}))},addClickHandler:function(e,t){e.addEventListener("click",(function(e){var n="坐标<br/>lat："+e.point.lat+"；<br/>lng: "+e.point.lng+";",a=new BMap.Geocoder;a.getLocation(e.point,(function(a){t.title=a.address;var o=new BMap.InfoWindow(n,t);map.openInfoWindow(o,e.point)}))}))},draw:function(e){var t=new BMap.Polyline([new BMap.Point(114.318,35.576),new BMap.Point(114.628,35.056),new BMap.Point(114.058,34.476),new BMap.Point(114.598,34.316),new BMap.Point(114.318,33.976),new BMap.Point(113.389,33.528)],{strokeColor:"#d4af07",strokeWeight:2,strokeOpacity:.5});map.addOverlay(t)}}}),u=f,d=(n("ff7b"),n("2877")),m=Object(d["a"])(u,l,i,!1,null,"1ca1d13f",null),y=m.exports;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={name:"Dashboard",components:{Admin:y},data:function(){return{currentRole:"adminDashboard"}},computed:w({},Object(r["b"])(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="editorDashboard")}},v=A,g=Object(d["a"])(v,a,o,!1,null,"17a20b36",null);t["default"]=g.exports},ff7b:function(e,t,n){"use strict";var a=n("176b"),o=n.n(a);o.a}}]);